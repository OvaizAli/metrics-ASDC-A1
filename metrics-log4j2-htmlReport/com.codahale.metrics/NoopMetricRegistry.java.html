<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>NoopMetricRegistry.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">All in metrics-log4j2 Coverage Results</a> &gt; <a href="index.source.html" class="el_package">com.codahale.metrics</a> &gt; <span class="el_source">NoopMetricRegistry.java</span></div><h1>NoopMetricRegistry.java</h1><pre class="source lang-java linenums">package com.codahale.metrics;

import java.io.OutputStream;
import java.time.Duration;
import java.util.Collection;
import java.util.Collections;
import java.util.Map;
import java.util.Set;
import java.util.SortedMap;
import java.util.SortedSet;
import java.util.concurrent.Callable;
import java.util.concurrent.ConcurrentMap;
import java.util.concurrent.TimeUnit;
import java.util.function.Supplier;

/**
 * A registry of metric instances which never creates or registers any metrics and returns no-op implementations of any metric type.
 *
 * @since 4.1.17
 */
<span class="nc" id="L21">public final class NoopMetricRegistry extends MetricRegistry {</span>
<span class="nc" id="L22">    private static final EmptyConcurrentMap&lt;String, Metric&gt; EMPTY_CONCURRENT_MAP = new EmptyConcurrentMap&lt;&gt;();</span>

    /**
     * {@inheritDoc}
     */
    @Override
    protected ConcurrentMap&lt;String, Metric&gt; buildMap() {
<span class="nc" id="L29">        return EMPTY_CONCURRENT_MAP;</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public &lt;T extends Metric&gt; T register(String name, T metric) throws IllegalArgumentException {
<span class="nc bnc" id="L37" title="All 2 branches missed.">        if (metric == null) {</span>
<span class="nc" id="L38">            throw new NullPointerException(&quot;metric == null&quot;);</span>
        }
<span class="nc" id="L40">        return metric;</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public void registerAll(MetricSet metrics) throws IllegalArgumentException {
        // NOP
<span class="nc" id="L49">    }</span>

    /**
     * {@inheritDoc}
     */
    @Override
    public Counter counter(String name) {
<span class="nc" id="L56">        return NoopCounter.INSTANCE;</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public Counter counter(String name, MetricSupplier&lt;Counter&gt; supplier) {
<span class="nc" id="L64">        return NoopCounter.INSTANCE;</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public Histogram histogram(String name) {
<span class="nc" id="L72">        return NoopHistogram.INSTANCE;</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public Histogram histogram(String name, MetricSupplier&lt;Histogram&gt; supplier) {
<span class="nc" id="L80">        return NoopHistogram.INSTANCE;</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public Meter meter(String name) {
<span class="nc" id="L88">        return NoopMeter.INSTANCE;</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public Meter meter(String name, MetricSupplier&lt;Meter&gt; supplier) {
<span class="nc" id="L96">        return NoopMeter.INSTANCE;</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public Timer timer(String name) {
<span class="nc" id="L104">        return NoopTimer.INSTANCE;</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public Timer timer(String name, MetricSupplier&lt;Timer&gt; supplier) {
<span class="nc" id="L112">        return NoopTimer.INSTANCE;</span>
    }

    /**
     * {@inheritDoc}
     *
     * @since 4.2
     */
    @Override
    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;})
    public &lt;T extends Gauge&gt; T gauge(String name) {
<span class="nc" id="L123">        return (T) NoopGauge.INSTANCE;</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;})
    public &lt;T extends Gauge&gt; T gauge(String name, MetricSupplier&lt;T&gt; supplier) {
<span class="nc" id="L132">        return (T) NoopGauge.INSTANCE;</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public boolean remove(String name) {
<span class="nc" id="L140">        return false;</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public void removeMatching(MetricFilter filter) {
        // NOP
<span class="nc" id="L149">    }</span>

    /**
     * {@inheritDoc}
     */
    @Override
    public void addListener(MetricRegistryListener listener) {
        // NOP
<span class="nc" id="L157">    }</span>

    /**
     * {@inheritDoc}
     */
    @Override
    public void removeListener(MetricRegistryListener listener) {
        // NOP
<span class="nc" id="L165">    }</span>

    /**
     * {@inheritDoc}
     */
    @Override
    public SortedSet&lt;String&gt; getNames() {
<span class="nc" id="L172">        return Collections.emptySortedSet();</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    @SuppressWarnings(&quot;rawtypes&quot;)
    public SortedMap&lt;String, Gauge&gt; getGauges() {
<span class="nc" id="L181">        return Collections.emptySortedMap();</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    @SuppressWarnings(&quot;rawtypes&quot;)
    public SortedMap&lt;String, Gauge&gt; getGauges(MetricFilter filter) {
<span class="nc" id="L190">        return Collections.emptySortedMap();</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public SortedMap&lt;String, Counter&gt; getCounters() {
<span class="nc" id="L198">        return Collections.emptySortedMap();</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public SortedMap&lt;String, Counter&gt; getCounters(MetricFilter filter) {
<span class="nc" id="L206">        return Collections.emptySortedMap();</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public SortedMap&lt;String, Histogram&gt; getHistograms() {
<span class="nc" id="L214">        return Collections.emptySortedMap();</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public SortedMap&lt;String, Histogram&gt; getHistograms(MetricFilter filter) {
<span class="nc" id="L222">        return Collections.emptySortedMap();</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public SortedMap&lt;String, Meter&gt; getMeters() {
<span class="nc" id="L230">        return Collections.emptySortedMap();</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public SortedMap&lt;String, Meter&gt; getMeters(MetricFilter filter) {
<span class="nc" id="L238">        return Collections.emptySortedMap();</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public SortedMap&lt;String, Timer&gt; getTimers() {
<span class="nc" id="L246">        return Collections.emptySortedMap();</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public SortedMap&lt;String, Timer&gt; getTimers(MetricFilter filter) {
<span class="nc" id="L254">        return Collections.emptySortedMap();</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public void registerAll(String prefix, MetricSet metrics) throws IllegalArgumentException {
        // NOP
<span class="nc" id="L263">    }</span>

    /**
     * {@inheritDoc}
     */
    @Override
    public Map&lt;String, Metric&gt; getMetrics() {
<span class="nc" id="L270">        return Collections.emptyMap();</span>
    }

<span class="nc" id="L273">    static final class NoopGauge&lt;T&gt; implements Gauge&lt;T&gt; {</span>
<span class="nc" id="L274">        private static final NoopGauge&lt;?&gt; INSTANCE = new NoopGauge&lt;&gt;();</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public T getValue() {
<span class="nc" id="L281">            return null;</span>
        }
    }

    private static final class EmptySnapshot extends Snapshot {
<span class="nc" id="L286">        private static final EmptySnapshot INSTANCE = new EmptySnapshot();</span>
<span class="nc" id="L287">        private static final long[] EMPTY_LONG_ARRAY = new long[0];</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public double getValue(double quantile) {
<span class="nc" id="L294">            return 0D;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public long[] getValues() {
<span class="nc" id="L302">            return EMPTY_LONG_ARRAY;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public int size() {
<span class="nc" id="L310">            return 0;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public long getMax() {
<span class="nc" id="L318">            return 0L;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public double getMean() {
<span class="nc" id="L326">            return 0D;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public long getMin() {
<span class="nc" id="L334">            return 0L;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public double getStdDev() {
<span class="nc" id="L342">            return 0D;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public void dump(OutputStream output) {
            // NOP
<span class="nc" id="L351">        }</span>
    }

<span class="nc" id="L354">    static final class NoopTimer extends Timer {</span>
<span class="nc" id="L355">        private static final NoopTimer INSTANCE = new NoopTimer();</span>
<span class="nc" id="L356">        private static final Timer.Context CONTEXT = new NoopTimer.Context();</span>

        private static class Context extends Timer.Context {
<span class="nc" id="L359">            private static final Clock CLOCK = new Clock() {</span>
                /**
                 * {@inheritDoc}
                 */
                @Override
                public long getTick() {
<span class="nc" id="L365">                    return 0L;</span>
                }

                /**
                 * {@inheritDoc}
                 */
                @Override
                public long getTime() {
<span class="nc" id="L373">                    return 0L;</span>
                }
            };

            private Context() {
<span class="nc" id="L378">                super(INSTANCE, CLOCK);</span>
<span class="nc" id="L379">            }</span>

            /**
             * {@inheritDoc}
             */
            @Override
            public long stop() {
<span class="nc" id="L386">                return 0L;</span>
            }

            /**
             * {@inheritDoc}
             */
            @Override
            public void close() {
                // NOP
<span class="nc" id="L395">            }</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public void update(long duration, TimeUnit unit) {
            // NOP
<span class="nc" id="L404">        }</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public void update(Duration duration) {
            // NOP
<span class="nc" id="L412">        }</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public &lt;T&gt; T time(Callable&lt;T&gt; event) throws Exception {
<span class="nc" id="L419">            return event.call();</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public &lt;T&gt; T timeSupplier(Supplier&lt;T&gt; event) {
<span class="nc" id="L427">            return event.get();</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public void time(Runnable event) {
            // NOP
<span class="nc" id="L436">        }</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public Timer.Context time() {
<span class="nc" id="L443">            return CONTEXT;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public long getCount() {
<span class="nc" id="L451">            return 0L;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public double getFifteenMinuteRate() {
<span class="nc" id="L459">            return 0D;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public double getFiveMinuteRate() {
<span class="nc" id="L467">            return 0D;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public double getMeanRate() {
<span class="nc" id="L475">            return 0D;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public double getOneMinuteRate() {
<span class="nc" id="L483">            return 0D;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public Snapshot getSnapshot() {
<span class="nc" id="L491">            return EmptySnapshot.INSTANCE;</span>
        }
    }

    static final class NoopHistogram extends Histogram {
<span class="nc" id="L496">        private static final NoopHistogram INSTANCE = new NoopHistogram();</span>
<span class="nc" id="L497">        private static final Reservoir EMPTY_RESERVOIR = new Reservoir() {</span>
            /**
             * {@inheritDoc}
             */
            @Override
            public int size() {
<span class="nc" id="L503">                return 0;</span>
            }

            /**
             * {@inheritDoc}
             */
            @Override
            public void update(long value) {
                // NOP
<span class="nc" id="L512">            }</span>

            /**
             * {@inheritDoc}
             */
            @Override
            public Snapshot getSnapshot() {
<span class="nc" id="L519">                return EmptySnapshot.INSTANCE;</span>
            }
        };

        private NoopHistogram() {
<span class="nc" id="L524">            super(EMPTY_RESERVOIR);</span>
<span class="nc" id="L525">        }</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public void update(int value) {
            // NOP
<span class="nc" id="L533">        }</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public void update(long value) {
            // NOP
<span class="nc" id="L541">        }</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public long getCount() {
<span class="nc" id="L548">            return 0L;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public Snapshot getSnapshot() {
<span class="nc" id="L556">            return EmptySnapshot.INSTANCE;</span>
        }
    }

<span class="nc" id="L560">    static final class NoopCounter extends Counter {</span>
<span class="nc" id="L561">        private static final NoopCounter INSTANCE = new NoopCounter();</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public void inc() {
            // NOP
<span class="nc" id="L569">        }</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public void inc(long n) {
            // NOP
<span class="nc" id="L577">        }</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public void dec() {
            // NOP
<span class="nc" id="L585">        }</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public void dec(long n) {
            // NOP
<span class="nc" id="L593">        }</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public long getCount() {
<span class="nc" id="L600">            return 0L;</span>
        }
    }

<span class="nc" id="L604">    static final class NoopMeter extends Meter {</span>
<span class="nc" id="L605">        private static final NoopMeter INSTANCE = new NoopMeter();</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public void mark() {
            // NOP
<span class="nc" id="L613">        }</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public void mark(long n) {
            // NOP
<span class="nc" id="L621">        }</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public long getCount() {
<span class="nc" id="L628">            return 0L;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public double getFifteenMinuteRate() {
<span class="nc" id="L636">            return 0D;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public double getFiveMinuteRate() {
<span class="nc" id="L644">            return 0D;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public double getMeanRate() {
<span class="nc" id="L652">            return 0D;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public double getOneMinuteRate() {
<span class="nc" id="L660">            return 0D;</span>
        }
    }

    private static final class EmptyConcurrentMap&lt;K, V&gt; implements ConcurrentMap&lt;K, V&gt; {
        /**
         * {@inheritDoc}
         */
        @Override
        public V putIfAbsent(K key, V value) {
<span class="nc" id="L670">            return null;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public boolean remove(Object key, Object value) {
<span class="nc" id="L678">            return false;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public boolean replace(K key, V oldValue, V newValue) {
<span class="nc" id="L686">            return false;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public V replace(K key, V value) {
<span class="nc" id="L694">            return null;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public int size() {
<span class="nc" id="L702">            return 0;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public boolean isEmpty() {
<span class="nc" id="L710">            return true;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public boolean containsKey(Object key) {
<span class="nc" id="L718">            return false;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public boolean containsValue(Object value) {
<span class="nc" id="L726">            return false;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public V get(Object key) {
<span class="nc" id="L734">            return null;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public V put(K key, V value) {
<span class="nc" id="L742">            return null;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public V remove(Object key) {
<span class="nc" id="L750">            return null;</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public void putAll(Map&lt;? extends K, ? extends V&gt; m) {
            // NOP
<span class="nc" id="L759">        }</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public void clear() {
            // NOP
<span class="nc" id="L767">        }</span>

        /**
         * {@inheritDoc}
         */
        @Override
        public Set&lt;K&gt; keySet() {
<span class="nc" id="L774">            return Collections.emptySet();</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public Collection&lt;V&gt; values() {
<span class="nc" id="L782">            return Collections.emptySet();</span>
        }

        /**
         * {@inheritDoc}
         */
        @Override
        public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {
<span class="nc" id="L790">            return Collections.emptySet();</span>
        }
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span></div></body></html>